<div class="toolbar">
  <div class="inner">
    <div class="left">
      <button nz-button class="m-hsm" nzSize="small" nzType="default">
        恢复默认布局
      </button>
      <div class="controller">
        字体大小
        <nz-input-number
          class="m-hsm"
          [(ngModel)]="srv.fontSize"
          [nzSize]="'small'"
          [nzMin]="8"
          [nzStep]="1"
          (ngModelChange)="srv.changeFontSize($event)"
        ></nz-input-number>
        <button
          nz-button
          class="m-hsm"
          [ngClass]="{ active: srv.isBold }"
          nzSize="small"
          nzType="default"
          (click)="srv.bold()"
        >
          <i nz-icon nzType="bold" nzTheme="outline"></i>
        </button>
        <button
          nz-button
          class="m-hsm"
          [ngClass]="{ active: srv.isItalic }"
          nzSize="small"
          nzType="default"
          (click)="srv.italic()"
        >
          <i nz-icon nzType="italic" nzTheme="outline"></i>
        </button>
        <button
          nz-button
          class="m-hsm"
          [ngClass]="{ active: srv.isUnderline }"
          nzSize="small"
          nzType="default"
          (click)="srv.underline()"
        >
          <i nz-icon nzType="underline" nzTheme="outline"></i>
        </button>
      </div>
    </div>
    <div class="right">
      <button *ngIf="srv.isDesign" nz-button class="m-hsm" nzSize="small" nzType="default" (click)="addField($event)">
        添加数据源
      </button>
      <button nz-button class="m-hsm" nzSize="small" nzType="default" (click)="preview($event)">
        打印预览
      </button>
      <button nz-button class="m-hsm" nzSize="small" nzType="primary" (click)="save($event)">
        保存
      </button>
    </div>
  </div>
</div>
<div class="tpl-print-temp" #tplPrint>
  <lm-print-frame></lm-print-frame>
</div>

<ng-template #fieldTpl>
  <form nz-form>
    <nz-form-item>
      <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="email">区域</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24">
        <nz-select [(ngModel)]="fieldObj.area" [ngModelOptions]="{ standalone: true }">
          <nz-option *ngFor="let p of areas" [nzValue]="p.value" [nzLabel]="p.title"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="email">标题</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24">
        <input nz-input [(ngModel)]="fieldObj.title" [ngModelOptions]="{ standalone: true }" />
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="email">绑定字段</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24">
        <input nz-input [(ngModel)]="fieldObj.field" [ngModelOptions]="{ standalone: true }" />
      </nz-form-control>
    </nz-form-item>
    <nz-form-item>
      <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="email">类型</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24">
        <nz-select [(ngModel)]="fieldObj.type" [ngModelOptions]="{ standalone: true }">
          <nz-option *ngFor="let p of types" [nzValue]="p.value" [nzLabel]="p.title"></nz-option>
        </nz-select>
      </nz-form-control>
    </nz-form-item>
    <nz-form-item *ngIf="fieldObj.type === 'input'">
      <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="email">输入值</nz-form-label>
      <nz-form-control [nzSm]="14" [nzXs]="24">
        <input nz-input [(ngModel)]="fieldObj.value" [ngModelOptions]="{ standalone: true }" />
      </nz-form-control>
    </nz-form-item>
  </form>
</ng-template>
